<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Configura√ß√µes do Tema - Old00</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    h1 { color: #333; }
    label { font-weight: bold; display: block; margin-bottom: 5px; }
    .form-group { margin-bottom: 20px; }
    select, input[type="text"], input[type="color"] {
      padding: 6px;
      width: 200px;
      max-width: 100%;
      margin-top: 5px;
    }
    .form-group input[type="color"] {
      width: 50px;
    }
    .btn-save {
      float: right;
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-save i { margin-right: 5px; }
    .clearfix::after { content: ""; display: table; clear: both; }

    /* Estilo para campos desativados */
    .disabled-field {
      background-color: #e0e0e0;
      pointer-events: none;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <h1>üé® Configura√ß√µes do Tema - Old00</h1>
  <p>Aqui voc√™ pode editar as op√ß√µes de estilo para o tema Old00.</p>
  
  <form action="<?= $block->getFormAction() ?>" method="post" id="theme-options-form">
    <?= $block->getBlockHtml('formkey') ?>
    
    <!-- Estilo do Tema -->
    <div class="form-group">
      <label for="modo_hacker"><i class="fas fa-laptop-code"></i> Estilo do Tema:</label>
      <select id="modo_hacker" name="modo_hacker">
        <option value="1">Old00 Hacker (escuro)</option>
        <option value="0">Old00 Clean (claro)</option>
        <option value="custom" <?= $block->getModoHacker() == 'custom' ? 'selected' : '' ?>>Personalizado</option>
      </select>
    </div>

    <!-- Cor de Fundo -->
    <div class="form-group">
      <label for="cor_principal"><i class="fas fa-fill-drip"></i> Cor de Fundo do Site:</label>
      <input type="color" id="cor_principal" name="cor_principal" value="<?= $block->getCorPrincipal() ?>" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_principal" name="hex_cor_principal" value="<?= $block->getHexCorPrincipal() ?>" placeholder="#000000" maxlength="7" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Cor do Link -->
    <div class="form-group">
      <label for="cor_link"><i class="fas fa-link"></i> Cor do Link:</label>
      <input type="color" id="cor_link" name="cor_link" value="<?= $block->getCorLink() ?>" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_link" name="hex_cor_link" value="<?= $block->getHexCorLink() ?>" placeholder="#0000ff" maxlength="7" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Cor da Fonte -->
    <div class="form-group">
      <label for="cor_fonte"><i class="fas fa-font"></i> Cor da Fonte do Texto:</label>
      <input type="color" id="cor_fonte" name="cor_fonte" value="<?= $block->getCorFonte() ?>" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_fonte" name="hex_cor_fonte" value="<?= $block->getHexCorFonte() ?>" placeholder="#333333" maxlength="7" class="<?= $block->isCorEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Cor dos Bot√µes Prim√°rios -->
    <div class="form-group">
      <label for="cor_botao_primario"><i class="fas fa-cogs"></i> Cor do Bot√£o Prim√°rio:</label>
      <input type="color" id="cor_botao_primario" name="cor_botao_primario" value="<?= $block->getCorBotaoPrimario() ?>" class="<?= $block->isBotaoEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_botao_primario" name="hex_cor_botao_primario" value="<?= $block->getHexCorBotaoPrimario() ?>" placeholder="#007bff" maxlength="7" class="<?= $block->isBotaoEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Cor dos Links nos Bot√µes -->
    <div class="form-group">
      <label for="cor_link_botao"><i class="fas fa-link"></i> Cor do Link nos Bot√µes:</label>
      <input type="color" id="cor_link_botao" name="cor_link_botao" value="<?= $block->getCorLinkBotao() ?>" class="<?= $block->isBotaoEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_link_botao" name="hex_cor_link_botao" value="<?= $block->getHexCorLinkBotao() ?>" placeholder="#ffffff" maxlength="7" class="<?= $block->isBotaoEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Mostrar bot√£o voltar ao topo -->
    <div class="form-group">
      <label for="mostrar_voltar_topo"><i class="fas fa-arrow-up"></i> Mostrar bot√£o "Voltar ao topo":</label>
      <select id="mostrar_voltar_topo" name="mostrar_voltar_topo">
        <option value="1" <?= $block->getMostrarVoltarTopo() == '1' ? 'selected' : '' ?>>Sim</option>
        <option value="0" <?= $block->getMostrarVoltarTopo() == '0' ? 'selected' : '' ?>>N√£o</option>
      </select>
    </div>

    <!-- Cor do bot√£o "Voltar ao topo" -->
    <div id="cor_botao_voltar" class="form-group" style="display: none;">
      <label for="cor_voltar_topo"><i class="fas fa-paint-brush"></i> Cor do bot√£o "Voltar ao topo":</label>
      <input type="color" id="cor_voltar_topo" name="cor_voltar_topo" value="<?= $block->getCorVoltarTopo() ?>" class="<?= $block->isVoltarTopoEditable() ? '' : 'disabled-field' ?>" />
      <input type="text" id="hex_cor_voltar_topo" name="hex_cor_voltar_topo" value="<?= $block->getHexCorVoltarTopo() ?>" placeholder="#0000ff" maxlength="7" class="<?= $block->isVoltarTopoEditable() ? '' : 'disabled-field' ?>" />
    </div>

    <!-- Bot√£o salvar -->
    <div class="clearfix">
      <button type="submit" class="btn-save"><i class="fas fa-save"></i> Salvar configura√ß√µes</button>
    </div>
  </form>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const modoHacker = document.getElementById('modo_hacker');
      const corPrincipal = document.getElementById('cor_principal');
      const hexCorPrincipal = document.getElementById('hex_cor_principal');
      const corLink = document.getElementById('cor_link');
      const hexCorLink = document.getElementById('hex_cor_link');
      const corFonte = document.getElementById('cor_fonte');
      const hexCorFonte = document.getElementById('hex_cor_fonte');
      const corBotaoPrimario = document.getElementById('cor_botao_primario');
      const hexCorBotaoPrimario = document.getElementById('hex_cor_botao_primario');
      const corLinkBotao = document.getElementById('cor_link_botao');
      const hexCorLinkBotao = document.getElementById('hex_cor_link_botao');
      const mostrarVoltarTopo = document.getElementById('mostrar_voltar_topo');
      const corBotaoVoltar = document.getElementById('cor_botao_voltar');
      const corVoltarTopo = document.getElementById('cor_voltar_topo');
      const hexCorVoltarTopo = document.getElementById('hex_cor_voltar_topo');
      const camposCor = [corPrincipal, corLink, corFonte, corBotaoPrimario, corLinkBotao];

      function atualizarCampos() {
        const modo = modoHacker.value;
        const camposEditaveis = modo === 'custom';
        
        // Para modo Hacker (escuro)
        if (modo === '1') {
          corPrincipal.value = '#1a1a1a';
          hexCorPrincipal.value = '#1a1a1a';
          corLink.value = '#80ff80';
          hexCorLink.value = '#80ff80';
          corFonte.value = '#ffffff';
          hexCorFonte.value = '#ffffff';
          corBotaoPrimario.value = '#ff6347'; // cor do bot√£o prim√°rio no modo escuro
          hexCorBotaoPrimario.value = '#ff6347';
          corLinkBotao.value = '#ffffff'; // cor do link nos bot√µes no modo escuro
          hexCorLinkBotao.value = '#ffffff';
        }
        // Para modo Clean (claro)
        else if (modo === '0') {
          corPrincipal.value = '#f4f4f4';
          hexCorPrincipal.value = '#f4f4f4';
          corLink.value = '#0000ff';
          hexCorLink.value = '#0000ff';
          corFonte.value = '#000000';
          hexCorFonte.value = '#000000';
          corBotaoPrimario.value = '#007bff'; // cor do bot√£o prim√°rio no modo claro
          hexCorBotaoPrimario.value = '#007bff';
          corLinkBotao.value = '#0000ff'; // cor do link nos bot√µes no modo claro
          hexCorLinkBotao.value = '#0000ff';
        }
        // Para modo personalizado
        else {
          corPrincipal.value = '#d3d3d3'; // cor de fundo padr√£o no modo personalizado (cinza claro)
          hexCorPrincipal.value = '#d3d3d3';
        }

        // Habilitar ou desabilitar campos
        camposCor.forEach(campo => {
          if (camposEditaveis) campo.disabled = false;
          else campo.disabled = true;
        });
      }

      modoHacker.addEventListener('change', atualizarCampos);
      atualizarCampos();
    });
  </script>
</body>
</html>
